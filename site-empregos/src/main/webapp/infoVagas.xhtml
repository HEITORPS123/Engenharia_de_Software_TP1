<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui">
	
        <!-- Masthead-->
        <header class="masthead">
            <div class="container">
                <div class="row d-flex justify-content-center">
                    <div class="col-12">
                        <div class="card p-3 py-4">
                            <div class = "text-center">
                                <div class="divider-custom divider-dark">
                                    <div class="divider-custom-icon"><span> Empresa </span></div>
                                </div>
                                <div class="text-center"> <img src="data:image/png;base64, #{vagaUtils.vaga.empresa.imagem}" width="100" class="rounded-circle" /> </div>
                                    <h5 class="mt-2 mb-0"> #{vagaUtils.vaga.empresa.nomeComercial} </h5> <span> #{vagaUtils.vaga.nome} </span>
                                    <div class="px-4 mt-1">
                                        <p class="fonts">#{vagaUtils.vaga.empresa.descricao} </p>
                                    </div>
                            </div>
                                <div class="divider-custom divider-dark">
                                    <div class="divider-custom-line"></div>
                                    <div class="divider-custom-icon"><span> Descrição da Vaga </span></div>
                                    <div class="divider-custom-line"></div>
                                </div>
                                <div class = "row">
                                    <div class="col-2"></div>
                                    
                                    <div class = "col text-left list-info">
                                    	<div class="row"> 
                                    		<div class="col">
		                                        <ul class="list-unstyled">
			                                            <li> <i class="fas fa-map-marker-alt"></i> <b> : </b> #{vagaUtils.vaga.local} </li>
			                                            <li> <i class="fas fa-money-bill"></i> <b> : </b> R$ #{vagaUtils.vaga.salario} </li>
			                    				</ul>
		                    				</div>
		                    				<div class="col">
			                    				<ul class="list-unstyled">
			                                            <li> <i class="fas fa-hourglass-half"></i> <b> : </b> #{vagaUtils.vaga.cargaHoraria} hs </li>
			                                            <li> <i class="fas fa-briefcase"></i> <b> : </b> #{vagaUtils.vaga.posicao} </li>
		                                        </ul>
	                                        </div>
                                        </div>
                                    </div>

                                    <div class="col-2"></div>
                                </div>

                                <div class = "row">
                                    <div class="col-2"></div>

                                    <div class = "col text-center">
                                        <h4> Sobre </h4>
                                        <p> #{vagaUtils.vaga.descricao} </p>
                                    </div>

                                    <div class="col-2"></div>
                                </div>

								<p:outputPanel id="botaoAdicionarAplicacao" rendered="#{loginManager.isEstagiario()}">
	                    			<h:form>
	                    				<div class="buttons text-center">
	                    					<h:commandLink type="button" class="btn btn-outline-primary px-4" value="Aplicar" action="#{vagaUtils.persistAplicacao(loginManager.getEstagiario())}" style="font-size: 30px;" />
	                            		</div>
	                            	</h:form>
                            	</p:outputPanel>
                            </div>
                        </div>
                    </div>
                </div>
        </header>
        
        <p:outputPanel id="listaCandidatos" rendered="#{loginManager.isEmpresa()}">
        	<section class="page-section portfolio" id="portfolio">
            <div class="container" style="margin-top: -10%;">
                <!-- Heading -->
                <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0"> Candidatos </h2>
                <!-- Divisor com Ícone -->
                <div class="divider-custom">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-users"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
	                
	            <div class="row justify-content-center">
	            	<ui:repeat var="a" value="#{vagaUtils.listaAplicacoes}" >
	                    <div class="col-md-6 col-lg-4 mb-5">
	                        <div class="mt-2 d-flex justify-content-center">
	                            <div class="card p-3" style="width:100%;" >
	                                <div class="d-flex align-items-center">
	                                    <div class="image"> <img src="data:image/png;base64, #{a.estagiario.imagem}" class="rounded" width="155" /> </div>
	                                    <div class="ml-3 w-100" style = "margin-left: 5%;">
	                                        <h4 class="mb-0 mt-0"> #{a.estagiario.nomeCompleto} </h4> 
	                                        <span>#{a.estagiario.local}</span>
	                                        <div class="button mt-2 align-items-center">
	                                        <h:form>
	                                        <p:commandLink
	                                        	class="btn btn-info text-light w-50"
	                                        	value="CV"
												ajax="false"
												immediate="true">
												<i class="fas fa-download" />
												
												<p:fileDownload value="#{vagaUtils.download(a.estagiario.curriculo)}"/>
											
											</p:commandLink>
											</h:form>
											</div>
	                                    </div>
	                                </div>
	                            </div>
	                        </div>
	                    </div>
	                 </ui:repeat>
            	</div>
            </div>
            </section>
        </p:outputPanel>
</ui:composition>
